{"ast":null,"code":"import createStore from \"unistore\";\nimport axios from \"axios\";\nconst initialState = {\n  listBook: [],\n  listPenulis: [],\n  listCategory: [],\n  baseUrl: `localhost:5000`,\n  judul: '',\n  penulisId: '',\n  categoryId: ''\n};\nexport const store = createStore(initialState);\nexport const actions = store => ({\n  getBook: state => {\n    const req = {\n      method: \"get\",\n      url: `${state.baseUrl}/book?judul=${state.judul}&penulis_id=${state.penulisId}&category_id=${state.categoryId}`,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    };\n    axios(req).then(response => {\n      store.setState({\n        listBook: response.data.result\n      });\n    }).catch(error => {});\n  },\n  getPenulis: state => {\n    const req = {\n      method: \"get\",\n      url: `${state.baseUrl}/penulis`,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    };\n    axios(req).then(response => {\n      store.setState({\n        listPenulis: response.data.result\n      });\n    }).catch(error => {});\n  },\n  getCategory: state => {\n    const req = {\n      method: \"get\",\n      url: `${state.baseUrl}/category`,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    };\n    axios(req).then(response => {\n      store.setState({\n        listCategory: response.data.result\n      });\n    }).catch(error => {});\n  }\n});","map":{"version":3,"sources":["/home/agung/ALTA/Tes_kerja/react/src/stores/MainStore.js"],"names":["createStore","axios","initialState","listBook","listPenulis","listCategory","baseUrl","judul","penulisId","categoryId","store","actions","getBook","state","req","method","url","headers","Authorization","localStorage","getItem","then","response","setState","data","result","catch","error","getPenulis","getCategory"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,UAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,QAAQ,EAAG,EADM;AAEjBC,EAAAA,WAAW,EAAG,EAFG;AAGjBC,EAAAA,YAAY,EAAG,EAHE;AAIjBC,EAAAA,OAAO,EAAI,gBAJM;AAKjBC,EAAAA,KAAK,EAAG,EALS;AAMjBC,EAAAA,SAAS,EAAG,EANK;AAOjBC,EAAAA,UAAU,EAAG;AAPI,CAArB;AASA,OAAO,MAAMC,KAAK,GAAGV,WAAW,CAACE,YAAD,CAAzB;AAEP,OAAO,MAAMS,OAAO,GAAGD,KAAK,KAAK;AAC7BE,EAAAA,OAAO,EAAEC,KAAK,IAAI;AACd,UAAMC,GAAG,GAAG;AACVC,MAAAA,MAAM,EAAE,KADE;AAEVC,MAAAA,GAAG,EAAG,GAAEH,KAAK,CAACP,OAAQ,eAAcO,KAAK,CAACN,KAAM,eAAcM,KAAK,CAACL,SAAU,gBAAeK,KAAK,CAACJ,UAAW,EAFpG;AAGVQ,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEPC,QAAAA,aAAa,EAAG,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AAFhD;AAHC,KAAZ;AAQAnB,IAAAA,KAAK,CAACa,GAAD,CAAL,CACGO,IADH,CACQC,QAAQ,IAAI;AAChBZ,MAAAA,KAAK,CAACa,QAAN,CAAe;AACbpB,QAAAA,QAAQ,EAAEmB,QAAQ,CAACE,IAAT,CAAcC;AADX,OAAf;AAGD,KALH,EAMGC,KANH,CAMSC,KAAK,IAAI,CAAE,CANpB;AAOD,GAjB0B;AAkB3BC,EAAAA,UAAU,EAAEf,KAAK,IAAI;AACnB,UAAMC,GAAG,GAAG;AACVC,MAAAA,MAAM,EAAE,KADE;AAEVC,MAAAA,GAAG,EAAG,GAAEH,KAAK,CAACP,OAAQ,UAFZ;AAGVW,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEPC,QAAAA,aAAa,EAAG,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AAFhD;AAHC,KAAZ;AAQAnB,IAAAA,KAAK,CAACa,GAAD,CAAL,CACGO,IADH,CACQC,QAAQ,IAAI;AAChBZ,MAAAA,KAAK,CAACa,QAAN,CAAe;AACbnB,QAAAA,WAAW,EAAEkB,QAAQ,CAACE,IAAT,CAAcC;AADd,OAAf;AAGD,KALH,EAMGC,KANH,CAMSC,KAAK,IAAI,CAAE,CANpB;AAOD,GAlC0B;AAmC3BE,EAAAA,WAAW,EAAEhB,KAAK,IAAI;AACpB,UAAMC,GAAG,GAAG;AACVC,MAAAA,MAAM,EAAE,KADE;AAEVC,MAAAA,GAAG,EAAG,GAAEH,KAAK,CAACP,OAAQ,WAFZ;AAGVW,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEPC,QAAAA,aAAa,EAAG,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AAFhD;AAHC,KAAZ;AAQAnB,IAAAA,KAAK,CAACa,GAAD,CAAL,CACGO,IADH,CACQC,QAAQ,IAAI;AAChBZ,MAAAA,KAAK,CAACa,QAAN,CAAe;AACblB,QAAAA,YAAY,EAAEiB,QAAQ,CAACE,IAAT,CAAcC;AADf,OAAf;AAGD,KALH,EAMGC,KANH,CAMSC,KAAK,IAAI,CAAE,CANpB;AAOD;AAnD0B,CAAL,CAArB","sourcesContent":["import createStore from \"unistore\";\nimport axios from \"axios\";\n\nconst initialState = {\n    listBook : [],\n    listPenulis : [],\n    listCategory : [],\n    baseUrl : `localhost:5000`,\n    judul : '',\n    penulisId : '',\n    categoryId : ''\n}\nexport const store = createStore(initialState);\n\nexport const actions = store => ({\n    getBook: state => {   \n        const req = {\n          method: \"get\",\n          url: `${state.baseUrl}/book?judul=${state.judul}&penulis_id=${state.penulisId}&category_id=${state.categoryId}`,\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n          }\n        };\n        axios(req)\n          .then(response => {\n            store.setState({\n              listBook: response.data.result,\n            });\n          })\n          .catch(error => {});\n      },\n      getPenulis: state => {   \n        const req = {\n          method: \"get\",\n          url: `${state.baseUrl}/penulis`,\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n          }\n        };\n        axios(req)\n          .then(response => {\n            store.setState({\n              listPenulis: response.data.result,\n            });\n          })\n          .catch(error => {});\n      },\n      getCategory: state => {   \n        const req = {\n          method: \"get\",\n          url: `${state.baseUrl}/category`,\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n          }\n        };\n        axios(req)\n          .then(response => {\n            store.setState({\n              listCategory: response.data.result,\n            });\n          })\n          .catch(error => {});\n      },\n});"]},"metadata":{},"sourceType":"module"}